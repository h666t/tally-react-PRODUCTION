(this["webpackJsonptally-react"]=this["webpackJsonptally-react"]||[]).push([[0],{236:function(e,n,t){e.exports=t(548)},241:function(e,n,t){},247:function(e,n,t){var a={"./calendar.svg":248,"./left.svg":249,"./right.svg":250,"./setting.svg":251,"./switch.svg":252};function r(e){var n=c(e);return t(n)}function c(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=247},248:function(e,n,t){"use strict";t.r(n);var a=t(37),r=t.n(a),c=t(38),i=t.n(c),l=new r.a({id:"calendar",use:"calendar-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="calendar"><defs><style></style></defs><path d="M896 345V233a8 8 0 00-8-8H738v45c0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32v-45H350v45c0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32v-45H136a8 8 0 00-8 8v112h768zm0 64H128v479a8 8 0 008 8h752a8 8 0 008-8V409zM738 161h190c17.673 0 32 14.327 32 32v735c0 17.673-14.327 32-32 32H96c-17.673 0-32-14.327-32-32V193c0-17.673 14.327-32 32-32h190V96c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32v65h324V96c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32v65zM289 473h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm194-256h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm194-256h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32zm0 128h58c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32h-58c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32z" /></symbol>'});i.a.add(l);n.default=l},249:function(e,n,t){"use strict";t.r(n);var a=t(37),r=t.n(a),c=t(38),i=t.n(c),l=new r.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style></style></defs><path d="M711.437 962.144c-15.286 0-29.523-5.879-40.167-16.564L281.573 555.189c-1.425-1.393-2.537-2.578-3.45-3.847l-2.304-2.905c-11.362-11.416-16.946-24.85-16.946-39.069 0-14.476 5.708-28.01 16.057-38.11L667.308 83.04c10.612-10.467 24.785-16.237 39.892-16.237 14.773 0 28.727 5.6 39.288 15.754 10.497 10.186 16.539 24.39 16.539 38.952 0 14.383-5.723 28.01-16.143 38.367l-353.969 350.17 358.486 359.429c10.25 10.31 15.91 23.781 15.91 37.994 0 14.89-6.053 28.86-17 39.334-10.42 9.89-24.25 15.34-38.874 15.34z" /></symbol>'});i.a.add(l);n.default=l},250:function(e,n,t){"use strict";t.r(n);var a=t(37),r=t.n(a),c=t(38),i=t.n(c),l=new r.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M312.563 61.856c15.286 0 29.523 5.879 40.167 16.564l389.697 390.391c1.425 1.393 2.537 2.578 3.45 3.847l2.304 2.905c11.362 11.416 16.946 24.85 16.946 39.069 0 14.476-5.708 28.01-16.057 38.11L356.692 940.96c-10.612 10.467-24.785 16.237-39.892 16.237-14.773 0-28.727-5.6-39.288-15.754-10.497-10.186-16.539-24.39-16.539-38.952 0-14.383 5.723-28.01 16.143-38.367l353.969-350.17-358.486-359.429c-10.25-10.31-15.91-23.781-15.91-37.994 0-14.89 6.053-28.86 17-39.334 10.42-9.89 24.25-15.34 38.874-15.34z" /></symbol>'});i.a.add(l);n.default=l},251:function(e,n,t){"use strict";t.r(n);var a=t(37),r=t.n(a),c=t(38),i=t.n(c),l=new r.a({id:"setting",use:"setting-usage",viewBox:"0 0 1026 1024",content:'<symbol class="icon" viewBox="0 0 1026 1024" xmlns="http://www.w3.org/2000/svg" id="setting"><defs><style></style></defs><path d="M986.747 424.463l-42.141-42.14a122.148 122.148 0 01-36.034-86.115v-61.074a122.148 122.148 0 00-122.148-122.147H725.35a122.148 122.148 0 01-86.114-36.034l-40.92-40.92a122.148 122.148 0 00-172.838 0l-42.141 42.142a122.148 122.148 0 01-86.115 36.033H236.15A122.148 122.148 0 00114 236.356v61.074a122.148 122.148 0 01-36.034 86.114l-42.14 42.14a122.148 122.148 0 000 172.84l42.14 42.14a122.148 122.148 0 0136.034 86.115v61.074a122.148 122.148 0 00122.148 122.148h61.073a122.148 122.148 0 0186.115 36.033l42.14 42.141a122.148 122.148 0 00172.84 0l42.14-42.14A122.148 122.148 0 01726.573 910h61.074a122.148 122.148 0 00122.147-122.148v-61.074a122.148 122.148 0 0136.034-86.114l42.141-42.141a122.148 122.148 0 00-1.221-174.06zM943.384 553.94l-42.14 42.141a183.222 183.222 0 00-53.746 129.477v61.074a61.074 61.074 0 01-61.074 61.073H725.35a183.222 183.222 0 00-129.476 53.745l-42.141 42.141a61.074 61.074 0 01-86.114 0L428.53 900.23a183.222 183.222 0 00-129.476-53.745H237.98a61.074 61.074 0 01-61.074-61.074v-61.074a183.222 183.222 0 00-53.745-128.255L81.021 553.94a61.074 61.074 0 010-86.114l42.141-40.309a183.222 183.222 0 0053.745-129.476v-61.074a61.074 61.074 0 0161.074-61.074h61.074a183.222 183.222 0 00129.476-53.745l42.141-42.141a61.074 61.074 0 0186.114 0l40.31 42.14a183.222 183.222 0 00129.476 53.746h61.074a61.074 61.074 0 0161.074 61.074v61.074a183.222 183.222 0 0052.523 129.476l42.141 42.141a61.074 61.074 0 010 86.114z" /><path d="M511.592 296.819A213.759 213.759 0 10725.35 510.578a213.759 213.759 0 00-213.758-213.759zm0 366.443a152.685 152.685 0 11152.684-152.684 152.685 152.685 0 01-152.684 152.684z" /></symbol>'});i.a.add(l);n.default=l},252:function(e,n,t){"use strict";t.r(n);var a=t(37),r=t.n(a),c=t(38),i=t.n(c),l=new r.a({id:"switch",use:"switch-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="switch"><defs><style></style></defs><path d="M940.35 408.21H84.21c-11.05 0-20 8.95-20 20s8.95 20 20 20h856.14c11.05 0 20-8.95 20-20s-8.95-20-20-20zm0 167.84H84.21c-11.05 0-20 8.95-20 20s8.95 20 20 20h856.14c11.05 0 20-8.95 20-20s-8.95-20-20-20z" /><path d="M940.33 576.05c-5.12 0-10.24 1.95-14.14 5.86L729.06 779.04c-7.81 7.81-7.81 20.47 0 28.28a19.92 19.92 0 0014.14 5.86c5.12 0 10.24-1.95 14.14-5.86l197.13-197.13c7.81-7.81 7.81-20.47 0-28.28-3.9-3.91-9.02-5.86-14.14-5.86zM281.34 211.08c-5.12 0-10.24 1.95-14.14 5.86L70.07 414.07c-7.81 7.81-7.81 20.47 0 28.28 3.91 3.91 9.02 5.86 14.14 5.86s10.24-1.95 14.14-5.86l197.13-197.13c7.81-7.81 7.81-20.47 0-28.28-3.9-3.91-9.02-5.86-14.14-5.86z" /></symbol>'});i.a.add(l);n.default=l},548:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(231),i=t.n(c),l=(t(241),t(5)),o=t(16),u=t(6);function s(){var e=Object(l.a)(["\n    font-size: 16px;\n    line-height: 20px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    background: #ebeff2;\n"]);return s=function(){return e},e}var d=u.a.div(s()),p=function(e){return r.a.createElement(d,null,r.a.createElement("span",{className:e.prefix},e.text))},f=t(20),m=t.n(f),h=function(e,n){var t=JSON.parse(window.localStorage.getItem("dataSource")||"[]"),a=0;return t.forEach((function(t){if(t.date.indexOf(n)>=0&&t.category===e){var r=parseFloat(t.amount);a+=r}})),a};function g(){var e=Object(l.a)(["\n   display: flex;\n   justify-content: center;\n   margin-top: 20px;\n   >div{\n    display: flex;\n    position: relative;\n    height: 150px;\n    justify-content: space-evenly;\n    background: white;\n    width: 80%;\n    padding: 30px 20px;\n    border-radius: 15px;\n    >.output{\n      display: flex;\n      flex-direction: column;\n      span:nth-child(1){\n        font-size: 14px;\n        color: #9b9b9b;\n      }\n      span:nth-child(2){\n        font-size: 22px;\n      }\n    }\n    >.input{\n      display: flex;\n      flex-direction: column;\n      span:nth-child(1){\n        color: #9b9b9b;\n        font-size: 14px;\n      }\n      span:nth-child(2){\n        font-size: 22px;\n      }\n    }\n    >.echart{\n      position: absolute;\n      bottom: 10%;\n      left: 50%;\n      transform: translateX(-50%);\n      color: #0F9570;\n     }\n   }\n"]);return g=function(){return e},e}var v=u.a.div(g()),x=function(){var e=Object(o.f)(),n=m()().format("YYYY-MM"),t=h("+",n),a=h("-",n);return r.a.createElement(v,null,r.a.createElement("div",null,r.a.createElement("span",{className:"output"},r.a.createElement("span",null,"\u672c\u6708\u652f\u51fa"),r.a.createElement("span",null,"\uffe5",a)),r.a.createElement("span",{className:"input"},r.a.createElement("span",null,"\u672c\u6708\u6536\u5165"),r.a.createElement("span",null,"\uffe5",t)),r.a.createElement("span",{className:"echart",onClick:function(){e.push("/Statistics")}},"\u67e5\u770b\u56fe\u6807\u5206\u6790")))},b=function(e,n){var t=JSON.parse(window.localStorage.getItem("dataSource")||"[]"),a=[];return t.forEach((function(t){if(t.date.indexOf(e)>=0)switch(n){case"both":a.push(t);break;case"+":"+"===t.category&&a.push(t);break;case"-":"-"===t.category&&a.push(t)}})),a.sort((function(e,n){return e.date>n.date?-1:e.date===n.date?0:1})),a},E=t(27),y=JSON.parse(window.localStorage.getItem("idMAX")||"0"),w=function(){return y+=1,window.localStorage.setItem("idMAX",JSON.stringify(y)),y},O=function(){var e=Object(a.useState)([]),n=Object(E.a)(e,2),t=n[0],r=n[1];Object(a.useEffect)((function(){r(JSON.parse(window.localStorage.getItem("tags")||JSON.stringify([{id:w(),name:"\u8863"},{id:w(),name:"\u98df"},{id:w(),name:"\u4f4f"},{id:w(),name:"\u884c"}])))}),[]),function(e,n){var t=Object(a.useRef)(0);Object(a.useEffect)((function(){t.current+=1})),Object(a.useEffect)((function(){t.current>1&&e()}),n)}((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),[t]);var c=function(e,n,a){for(var c=parseInt(e),i=JSON.parse(JSON.stringify(t)),l=0;l<t.length;l++){if(t[l].id===c&&"update"===a){i.splice(l,1,{id:c,name:n}),r(i);break}t[l].id===c&&"remove"===a&&(i.splice(l,1),r(i))}};return{tags:t,addTag:function(){var e=window.prompt("\u8bf7\u8f93\u5165\u6807\u7b7e\u540d");if(""!==e){if(null!==e){var n=w();0===t.length&&r([{id:n,name:e}]);for(var a=0;a<t.length;a++){if(t[a].name===e){alert("\u6807\u7b7e\u540d\u91cd\u590d");break}var c=JSON.parse(JSON.stringify(t));c.push({id:n,name:e}),r(c)}}}else alert("\u6807\u7b7e\u540d\u4e0d\u80fd\u4e3a\u7a7a")},findTagName:function(e){var n=[];return e instanceof Array?t.map((function(t){e.indexOf(t.id)>=0&&n.push(t.name)})):t.forEach((function(t){t.id===e&&n.push(t.name)})),n},updateTag:function(e,n){c(e,n,"update")},removeTag:function(e){c(e,"","remove")}}};function j(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow: auto;\n    height: 300px;\n    li{\n      margin-bottom: 10px;\n      width: 90vw;\n      border-radius: 18px;\n      background: white;\n      display: flex;\n      justify-content: space-between;\n      padding: 15px 20px;\n      >span:nth-child(1){\n          white-space:nowrap;\n          overflow:hidden;\n          text-overflow:ellipsis;\n        >span:nth-child(2){\n          color: #AFAFAF;\n          font-size: 14px;\n          padding: 5px;\n        }\n      }\n      >span:nth-child(2){\n        display: flex;\n        padding-left: 5px;\n      }\n    }\n"]);return j=function(){return e},e}var k=u.a.ul(j()),S=function(){var e=O().findTagName,n=b("".concat(m()().format("YYYY-MM-DD")),"both");return r.a.createElement(k,null,n.map((function(n){return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("span",null,e(n.beSelectedTags).join("\uff0c")),r.a.createElement("span",null,n.note)),r.a.createElement("div",null,r.a.createElement("span",null,n.category),r.a.createElement("span",null,"\uffe5",n.amount)))})))};function N(){var e=Object(l.a)(["\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    >.title{\n      font-weight: bold;\n      font-size: 18px;\n      padding-left: 20px;\n      padding-bottom: 20px;\n      >.input{\n        span:nth-child(1){\n          padding-right: 10px;\n        }\n        span:nth-child(2){\n          padding-right: 20px;\n        }\n      }\n      >.output{\n        span:nth-child(1){\n          padding-right: 10px;\n        }\n        span:nth-child(2){\n          padding-right: 20px;\n        }\n      }\n    }\n"]);return N=function(){return e},e}var M=u.a.div(N()),Y=function(){var e=m()().format("YYYY-MM-DD"),n=h("+",e),t=h("-",e);return r.a.createElement(M,null,r.a.createElement("div",{className:"title"},r.a.createElement("span",{className:"input"},r.a.createElement("span",null,"\u4eca\u65e5\u652f\u51fa"),r.a.createElement("span",null,"\uffe5",t)),r.a.createElement("span",{className:"output"},r.a.createElement("span",null,"\u6536\u5165"),r.a.createElement("span",null,"\uffe5",n))),r.a.createElement(S,null))},z=t(106);function C(){var e=Object(l.a)(["\n    >button{\n      font-size: 18px; border: none; padding: 8px 12px;\n      background: #f60; border-radius: 10px;\n      color: white;  \n    }\n"]);return C=function(){return e},e}var T=u.a.div(C()),D=function(e){var n=e.children,t=Object(z.a)(e,["children"]);return r.a.createElement(T,null,r.a.createElement("button",t,n))};function I(){var e=Object(l.a)(["\n      .HomePageTittle{\n        padding-left: 20px;\n      }\n      >.buttonWrapper{\n        display: flex;\n        justify-content: flex-end;\n        padding-top: 20px;\n        margin-right: 20px;\n      }\n"]);return I=function(){return e},e}var B=u.a.div(I()),L=function(){var e=Object(o.f)();return r.a.createElement(B,null,r.a.createElement(p,{text:"\u6781\u7b80\u8bb0\u5e10",prefix:"HomePageTittle"}),r.a.createElement(x,null),r.a.createElement(Y,null),r.a.createElement("div",{className:"buttonWrapper"},r.a.createElement(D,{onClick:function(){e.push("/Money")}},"\u8bb0\u4e00\u7b14")))},J=t(29),H=t(235),A=t.n(H),W=function(e){var n;try{(n=t(247)).keys().forEach(n)}catch(i){console.log(i)}var a=e.id,c=(e.prefix,e.children,e.className,Object(z.a)(e,["id","prefix","children","className"]));return r.a.createElement("svg",Object.assign({className:A()("icon","".concat(e.prefix))},c),r.a.createElement("use",{xlinkHref:a}))};function F(){var e=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n  margin-right: 20px;\n"]);return F=function(){return e},e}function V(){var e=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    line-height: 50px;\n    justify-content: space-between;\n    background: #ebeff2;\n    \n    > div{\n     span:nth-child(1){\n      height: 62px;\n      margin-right: 5px;\n      position: relative;\n      padding: 5px;\n    }\n    span:nth-child(2){\n      height: 62px;\n      margin-right: 5px;\n      position: relative;\n      padding: 5px;\n    }\n    .selected:after{\n        position: absolute;\n        left: 0;\n        bottom:0;\n        width: 100%;\n        content: '';\n        border-bottom: 3px solid black;\n      }\n    }\n    \n    > .category-left{\n      width: 20px;\n      height: 20px;\n      margin-left: 20px;\n    }\n   \n"]);return V=function(){return e},e}var P=u.a.section(V()),X=u.a.div(F()),K=function(){var e=Object(a.useContext)(me),n=e.state,t=e.dispatch,c=n.category,i=function(e){t({type:"changeCategory",category:e})},l=Object(o.f)();return r.a.createElement(P,null,r.a.createElement(W,{id:"#left",prefix:"category-left",onClick:function(){l.push("/")}}),r.a.createElement("div",null,r.a.createElement("span",{className:"-"===c?"selected":"",onClick:function(){i("-")}},"\u652f\u51fa"),r.a.createElement("span",{className:"+"===c?"selected":"",onClick:function(){i("+")}},"\u6536\u5165")),r.a.createElement(X,null))};function R(){var e=Object(l.a)(["\n    height: 160px;\n    background: white;\n    padding: 15px;\n    overflow: auto;\n    display: flex;\n    > div{\n          margin: 0 -12px;\n          padding: 0 4px;\n      >div{\n            background: #D9D9D9;\n            display: inline-block;\n            padding: 3px 18px;\n            font-size: 14px; \n            margin: 8px 12px;\n            border-radius: 18px;\n      }\n      > .settingWrapper{\n            background: white;\n            display: inline-block;\n            padding: 3px 10px;\n            font-size: 14px; \n            margin: 8px 10px;\n            position: relative;\n            >.setting{\n                position: absolute;\n                width: 20px;\n                height: 20px;\n                top:0;\n                left: 50%;\n                transform: translateX(-50%);\n            }\n      }\n        \n      >.selected{\n          background: #333333;\n          color: white;\n          border-radius: 15px;\n      }\n    }\n"]);return R=function(){return e},e}var U=u.a.div(R()),_=function(){var e=Object(a.useContext)(me),n=e.state,t=e.dispatch,c=n.beSelectedTags,i=function(e){t({type:"changeBeSelectedTags",beSelectedTags:e})},l=O().tags,u=Object(o.f)();return r.a.createElement(U,null,r.a.createElement("div",null,l.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){!function(e){for(var n=JSON.parse(JSON.stringify(c)),t=0;t<=c.length;t++)if(c[t]===e)n.splice(t,1),i(n);else if(c.indexOf(e)<0){n.push(e),i(n);break}}(e.id)},className:c.indexOf(e.id)>=0?"selected":""},e.name)})),r.a.createElement("div",{className:"settingWrapper",onClick:function(){u.push("/Money/TagList")}},r.a.createElement(W,{id:"#setting",prefix:"setting"}))))},q="0";function Z(){var e=Object(l.a)(["\n    box-shadow:  0 1px 0 rgba(0,0,0,0.25);\n    height: 2px;\n"]);return Z=function(){return e},e}var $=u.a.div(Z()),G=function(){return r.a.createElement($,null," ")};function Q(){var e=Object(l.a)(["\n     display: flex;\n     line-height: 40px;\n     align-items: center;\n     padding-top: 5px;\n     >span{\n        margin-left: 10px;\n      }\n      >input{\n        height: 30px;\n        border: none;\n        background: transparent;\n        outline: none;\n        flex-grow: 1;\n      }\n"]);return Q=function(){return e},e}var ee=u.a.label(Q()),ne=function(){var e=Object(a.useContext)(me).dispatch;return r.a.createElement(ee,null,r.a.createElement("span",null,"\u5907\u6ce8\uff1a"),r.a.createElement("input",{type:"text",placeholder:"\u5199\u70b9\u5907\u6ce8\u5427...",defaultValue:"",onChange:function(n){var t;t=n.target.value,e({type:"changeNote",note:t})}}))};function te(){var e=Object(l.a)(["\n      display: flex;\n      align-items: center;\n      padding-top: 8px;\n      padding-bottom: 8px;\n      padding-left: 10px;\n      background: white;\n"]);return te=function(){return e},e}var ae=u.a.div(te()),re=function(){var e=Object(a.useContext)(me),n=e.state,t=e.dispatch,c=n.date,i=Object(a.useRef)(null),l=c.slice(0,10);return r.a.createElement(ae,null,r.a.createElement("span",null,"\u65e5\u671f\uff1a"),r.a.createElement("input",{ref:i,type:"date",defaultValue:"".concat(l),onChange:function(){!function(e){t({type:"changeDate",date:e})}(i.current.value)}}))};function ce(){var e=Object(l.a)(["\n      padding-top: 8px;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 20px;\n      font-size: 36px;\n      font-family: Consolas,monospace;\n"]);return ce=function(){return e},e}function ie(){var e=Object(l.a)(["\n     padding-top: 5px;\n       display: flex;\n       font-family: Consolas,monospace;\n       flex-wrap: wrap;\n       >div{\n          width: 25vw;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          line-height: 60px;\n          border: 1px solid #fff;\n       }\n       >.zero{\n          width: 50%;\n       }\n       >.OK{\n          width: 50%;\n       }\n"]);return ie=function(){return e},e}var le=u.a.div(ie()),oe=u.a.div(ce()),ue=function(){var e=Object(a.useContext)(me),n=e.state,t=e.dispatch,c=n.amount,i=function(e){!function(e){t({type:"changeAmount",amount:e})}(e)},l=function(){t({type:"initial"})};return r.a.createElement("div",null,r.a.createElement(re,null),r.a.createElement(G,null),r.a.createElement(oe,null,c),r.a.createElement(G,null),r.a.createElement(ne,null),r.a.createElement(le,{onClick:function(e){!function(e,n){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===q[0]&&"."!==q[1]?void n(q=(q+=e).substring(1,q.length)):void n(q+=e);case"\u6e05\u96f6":return void n(q="0");case"\u5220\u9664":if(q.length>1)return n(q.substring(0,q.length-1)),void(q=q.substring(0,q.length-1));if(1===q.length)return void n(q="0");break;case".":if("0"===q[0])return void n(q="0.");if(q.indexOf(".")>=0)return;n(q+=e);break;default:q="0"}}("".concat(e.target.innerText),i)}},r.a.createElement("div",null,"1"),r.a.createElement("div",null,"2"),r.a.createElement("div",null,"3"),r.a.createElement("div",null,"\u5220\u9664"),r.a.createElement("div",null,"4"),r.a.createElement("div",null,"5"),r.a.createElement("div",null,"6"),r.a.createElement("div",null,"\u6e05\u96f6"),r.a.createElement("div",null,"7"),r.a.createElement("div",null,"8"),r.a.createElement("div",null,"9"),r.a.createElement("div",null,"."),r.a.createElement("div",{className:"zero"},"0"),r.a.createElement("div",{className:"OK",onClick:function(){!function(e,n){if(0!==e.beSelectedTags.length)if("0"!==e.amount){var t=JSON.parse(window.localStorage.getItem("dataSource")||"[]");t.push(e),window.localStorage.setItem("dataSource",JSON.stringify(t)),n()}else alert("\u8bf7\u8f93\u5165\u91d1\u989d");else alert("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u6807\u7b7e")}(n,l)}},"OK")))};function se(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100vh;\n"]);return se=function(){return e},e}var de=u.a.div(se()),pe={amount:"0",beSelectedTags:[],category:"-",date:"".concat(m()().format("YYYY-MM-DD-HH-mm-ss")),note:""},fe=function(e,n){return"changeCategory"===n.type?Object(J.a)(Object(J.a)({},e),{},{category:n.category}):"changeBeSelectedTags"===n.type?Object(J.a)(Object(J.a)({},e),{},{beSelectedTags:n.beSelectedTags}):"changeAmount"===n.type?Object(J.a)(Object(J.a)({},e),{},{amount:n.amount}):"changeDate"===n.type?Object(J.a)(Object(J.a)({},e),{},{date:n.date}):"changeNote"===n.type?Object(J.a)(Object(J.a)({},e),{},{note:n.note}):"initial"===n.type?Object(J.a)({},pe):void 0},me=Object(a.createContext)(null),he=function(){var e=Object(a.useReducer)(fe,pe),n=Object(E.a)(e,2),t=n[0],c=n[1];return r.a.createElement(de,null,r.a.createElement(me.Provider,{value:{state:t,dispatch:c}},r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(_,null)),r.a.createElement(ue,null)))},ge=t(32);function ve(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    flex-direction: column;\n"]);return ve=function(){return e},e}var xe=u.a.div(ve()),be=function(e){return r.a.createElement(xe,null,e.children)};function Ee(){var e=Object(l.a)(["\n    width: 100%;\n    height: 10px;\n"]);return Ee=function(){return e},e}var ye=u.a.div(Ee()),we=function(){return r.a.createElement(ye,null," ")},Oe=function(){return r.a.createElement("div",null,r.a.createElement(be,null,r.a.createElement(we,null),r.a.createElement(we,null),r.a.createElement(we,null),r.a.createElement(we,null),r.a.createElement(we,null),"\u4f60\u627e\u7684\u9875\u9762\u4e0d\u5b58\u5728",r.a.createElement(ge.b,{to:"/"},"\u8fd4\u56de\u9996\u9875")))};function je(){var e=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n"]);return je=function(){return e},e}function ke(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: #ebeff2;\n    padding: 12px 20px;\n    >.TagListNav{\n      font-size: 18px;\n    }\n    >.TagListBack{\n      width: 20px;\n      height: 20px;\n    }\n"]);return ke=function(){return e},e}var Se=u.a.div(ke()),Ne=u.a.div(je()),Me=function(e){var n=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(Se,null,r.a.createElement(W,{id:"#left",prefix:"TagListBack",onClick:function(){n.push("".concat(e.backPath))}}),r.a.createElement("span",null,e.title),r.a.createElement(Ne,null," ")))};function Ye(){var e=Object(l.a)(["\n    >ul{\n    position: relative;\n    margin-bottom: 20px;\n      >label{\n         >li{\n          display: flex;\n          justify-content: space-between;\n          padding: 10px 20px;\n          background: white;\n          border-bottom: 1px solid rgba(0,0,0,0.25);\n          >.tagDetailIcon{\n            width: 20px;\n            height: 20px;\n          }\n        }\n      }\n    }\n    >.buttonWrapper{\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n"]);return Ye=function(){return e},e}var ze=u.a.div(Ye()),Ce=function(){var e=O(),n=e.tags,t=e.addTag,a=Object(o.f)();return r.a.createElement(ze,null,r.a.createElement("ul",null,n.map((function(e){if(n.length>0)return r.a.createElement("label",{key:e.id,onClick:(t=e.id,function(){return a.push("/Money/TagList/".concat(t))})},r.a.createElement("li",null,r.a.createElement("span",null,e.name),r.a.createElement(W,{id:"#right",prefix:"tagDetailIcon"})));var t}))),r.a.createElement("div",{className:"buttonWrapper"},r.a.createElement(D,{onClick:t},"\u65b0\u5efa\u6807\u7b7e")))},Te=function(){return r.a.createElement("div",null,r.a.createElement(Me,{title:"\u6807\u7b7e\u8be6\u60c5",backPath:"/Money"}),r.a.createElement(Ce,null))};function De(){var e=Object(l.a)(["\n    >label{\n      background: white;\n      display: flex;\n      align-items: center;\n      padding-left: 20px;\n      padding-right: 20px;\n      >input{\n        border:none;\n        line-height: 48px;\n        flex-grow: 1;\n      }\n    }\n    >.buttonWrapper{\n        display: flex;\n        justify-content: center;\n        margin-top: 20px;\n        div:nth-child(1){\n           margin-right: 5px;\n        }\n        div:nth-child(2){\n           margin-left: 5px;\n        }\n    }\n"]);return De=function(){return e},e}var Ie=u.a.div(De()),Be=function(){var e=Object(o.f)(),n=O(),t=n.findTagName,c=n.updateTag,i=n.removeTag,l=Object(o.g)().id,u=t(parseInt(l)),s=Object(a.useState)(""),d=Object(E.a)(s,2),p=d[0],f=d[1],m=function(n){return function(){n(),setTimeout((function(){e.push("/Money/TagList")}),0)}};return r.a.createElement(Ie,null,r.a.createElement(Me,{title:"\u7f16\u8f91\u6807\u7b7e",backPath:"/Money/TagList"}),r.a.createElement("label",null,r.a.createElement("span",null,"\u6807\u7b7e\u540d\uff1a"),r.a.createElement("input",{defaultValue:u,onChange:function(e){f(e.target.value)}})),r.a.createElement("div",{className:"buttonWrapper"},r.a.createElement(D,{onClick:m((function(){c(l,p)}))},"\u786e\u8ba4"),r.a.createElement(D,{onClick:m((function(){i(l)}))},"\u5220\u9664")))};function Le(){var e=Object(l.a)(["\n   >#main{\n    width: 100vw;\n    height: 500px;\n   }\n"]);return Le=function(){return e},e}var Je=t(253),He=u.a.div(Le()),Ae=function(e){var n,t=null,c=e.monthOrYear,i=e.specialDataSource,l=e.echartCategory,o=e.beSelectedDate,u=function(){var e=[];if("year"===c)for(var n=1;n<=12;n++)e.push(n);else if("month"===c)for(var t=1;t<=30;t++)e.push(t);return e},s=function(){var e,n=[],t=[],a=[];if("month"===c?e=10:"year"===c&&(e=7),i.forEach((function(n){a.indexOf(n.date.substring(0,e))<0&&a.push(n.date.substring(0,e))})),a.forEach((function(e){t.push({date:e,amount:"0"}),t.sort((function(e,n){return e.date>n.date?1:e.date<n.date?-1:0}))})),t.forEach((function(e){var n=0;i.map((function(t){t.date.indexOf(e.date)>=0&&(n+=parseFloat(t.amount))})),e.amount="".concat(n)})),"month"===c){for(var r=1;r<=m()().daysInMonth();r++)n.push(0);t.forEach((function(e){n.splice(parseInt(e.date.substring(8,10))-1,1,parseFloat(e.amount))}))}if("year"===c){for(var l=1;l<=12;l++)n.push(0);t.forEach((function(e){n.splice(parseInt(e.date.substring(5,7))-1,1,parseFloat(e.amount))}))}return n};return Object(a.useEffect)((function(){t=Je.init(document.getElementById("main")),n={title:{text:"month"===c&&"+"===l?"".concat(m()().format("YYYY\u5e74MM\u6708"),"\u6536\u5165"):"month"===c&&"-"===l?"".concat(m()().format("YYYY\u5e74MM\u6708"),"\u652f\u51fa"):"year"===c&&"+"===l?"".concat(o.substring(0,4),"\u5e74\u6536\u5165"):"year"===c&&"-"===l?"".concat(o.substring(0,4),"\u5e74\u652f\u51fa"):void 0},tooltip:{formatter:"{b0}".concat("month"===c?"\u65e5":"year"===c?"\u6708":void 0,": {c0}\u5143")},xAxis:{data:u()},yAxis:{},series:[{name:"\u91d1\u989d",type:"bar",data:s()}],grid:[{left:"13%",bottom:"18%",right:"0%"}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],left:"5%",bottom:30,start:0,end:90,minSpan:35,maxSpan:35}]},t.setOption(n)}),[c,i]),r.a.createElement(He,null,r.a.createElement("div",{id:"main"}," "))};function We(){var e=Object(l.a)(["\n  height: 200px;\n  background: white;\n  padding-top: 20px;\n  >.preData{\n    display: flex;\n    justify-content: center;\n  }\n  >.years{\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    margin-top: 5px;\n    >li{\n      padding: 3px 10px;\n      margin-left: 5px;\n      margin-right: 5px;\n      margin-top: 15px;\n    }\n    >.selected{\n        background: #333333;\n        color: white;\n        border-radius: 15px;\n    }\n  }\n"]);return We=function(){return e},e}var Fe=u.a.div(We()),Ve=function(e){var n=e.beSelectedDate,t=e.setBeSelectedDate,a=JSON.parse(window.localStorage.getItem("dataSource")||"[]"),c=[];return a.forEach((function(e){var n=e.date.slice(0,4);c.indexOf(n)<0&&c.push(n),c.sort((function(e,n){return e>n?-1:e<n?1:0}))})),r.a.createElement(Fe,null,r.a.createElement("div",{className:"preData"},"\u5f80\u5e74\u6570\u636e"),r.a.createElement("ol",{className:"years"},c.map((function(e){return r.a.createElement("li",{key:e,onClick:function(e){t(e.target.innerText)},className:n===e?"selected":""},e)}))))};function Pe(){var e=Object(l.a)(["\n  >.screen{\n    display: flex;\n    flex-direction: column;\n    height: 120px;\n    background: white;\n    justify-content: center;\n    padding-left: 20px;\n    margin-top: 30px;\n    >.dateLine{\n      display: flex;\n      justify-content: space-between;\n      margin-right: 20px;\n      >.calendarIcon{\n        width: 20px;\n        height: 20px;\n      }\n        >span:nth-child(1){\n        font-weight: bold;\n        padding-bottom: 5px;\n      }\n    }\n  }\n  >.buttonWrapper{\n    display: flex;\n    justify-content: center;\n    margin-top: 30px;\n    >div{\n        >.input{\n          margin-left: 10px;\n        }\n        >.output{\n          margin-right: 10px;\n        }\n    }\n  }\n  >.switch{\n    display: flex;\n    justify-content: space-between;\n    margin-top: 10px;\n    margin-bottom: 10px;\n    margin-right: 20px;\n    color: #0f9570;\n  }\n"]);return Pe=function(){return e},e}var Xe=u.a.div(Pe()),Ke=function(){var e=Object(a.useState)("true"),n=Object(E.a)(e,2),t=n[0],c=n[1],i="".concat(m()().format("YYYY\u5e74MM\u6708")),l=h("+",m()().format("YYYY-MM")).toFixed(2),o=h("-",m()().format("YYYY-MM")).toFixed(2),u=Object(a.useState)("-"),s=Object(E.a)(u,2),d=s[0],p=s[1],f=Object(a.useState)("month"),g=Object(E.a)(f,2),v=g[0],x=g[1],y=Object(a.useState)(m()().format("YYYY-MM")),w=Object(E.a)(y,2),O=w[0],j=w[1],k=function(e){p(e)},S=Object(a.useState)([]),N=Object(E.a)(S,2),M=N[0],Y=N[1];return Object(a.useEffect)((function(){"month"===v&&j(m()().format("YYYY-MM")),Y(b(O,d))}),[d,v,O]),r.a.createElement(Xe,null,r.a.createElement(Me,{title:"\u8d26\u5355\u8be6\u60c5",backPath:"/"}),"true"===t&&"year"===v?r.a.createElement(Ve,{setBeSelectedDate:j,beSelectedDate:O}):"",r.a.createElement("div",{className:"screen"},r.a.createElement("div",{className:"dateLine"},r.a.createElement("span",null,i),"year"===v?r.a.createElement(W,{id:"#calendar",prefix:"calendarIcon",onClick:function(){c("true"===t?"false":"true")}}):""),r.a.createElement("span",null,"\u652f\u51fa",r.a.createElement("span",null,"\uffe5",l)),r.a.createElement("span",null,"\u6536\u5165",r.a.createElement("span",null,"\uffe5",o))),r.a.createElement("div",{className:"buttonWrapper"},r.a.createElement(D,{className:"output",onClick:function(){k("-")}},"\u652f\u51fa"),r.a.createElement(D,{className:"input",onClick:function(){k("+")}},"\u6536\u5165")),r.a.createElement("div",{className:"switch"},r.a.createElement("span",null," "),r.a.createElement("span",{className:"switchButton",onClick:function(){x("month"===v?"year":"month")}},"\u5207\u6362","month"===v?"\u6708":"\u5e74","\u8d26\u5355")),r.a.createElement(Ae,{monthOrYear:v,specialDataSource:M,echartCategory:d,beSelectedDate:O}))},Re=function(){return Object(a.useEffect)((function(){if(document.documentElement.clientWidth>500){window.alert("\u8bf7\u626b\u63cf\u4e8c\u7ef4\u7801\u4f7f\u7528\u624b\u673a\u4f53\u9a8c");var e=document.querySelector("body"),n=document.createElement("img");n.src="https://i.loli.net/2020/10/04/NXUAVpf9C436iug.png",e.appendChild(n),n.style.position="fixed",n.style.left="50%",n.style.top="50%",n.style.transform="translateX(-50%) translateY(-50%)"}}),[]),r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(L,null)),r.a.createElement(o.a,{exact:!0,path:"/Money"},r.a.createElement(he,null)),r.a.createElement(o.a,{exact:!0,path:"/Money/TagList"},r.a.createElement(Te,null)),r.a.createElement(o.a,{exact:!0,path:"/Money/TagList/:id"},r.a.createElement(Be,null)),r.a.createElement(o.a,{exact:!0,path:"/Statistics"},r.a.createElement(Ke,null)),r.a.createElement(o.a,{path:"/*"},r.a.createElement(Oe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[236,1,2]]]);
//# sourceMappingURL=main.9e266f72.chunk.js.map